{% extends 'main.html' %}

{% block content %}

<main class="update-account layout">
    <div class="container">
        <div class="layout__box">
            <div class="layout__boxHeader">
                <div class="layout__boxTitle">
                    <a class="go-back" href="{{request.META.HTTP_REFERER}}">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                            viewBox="0 0 32 32">
                            <title>arrow-left</title>
                            <path
                                d="M13.723 2.286l-13.723 13.714 13.719 13.714 1.616-1.611-10.96-10.96h27.625v-2.286h-27.625l10.965-10.965-1.616-1.607z">
                            </path>
                        </svg>
                    </a>
                    <h3>Add Preparation Instructions</h3>
                </div>
            </div>
            <div class="layout__body">
                
                <form class="form" action="" method="POST">
                    {% csrf_token %}
                    <div class="form__group">
                        <label for="instruction">Instruction</label>
                        <input id="instruction" name="instruction" type="text" placeholder="ingredient, quantity, etc." required />
                    </div>
                    <button type='submit' class="btn btn--main">Add Instruction</button>
                </form>
                <a href="{% url 'my-recipes' %}">Finish Recipe</a>
                <ul>
                    {% for instruction in instructions %}
                        <li>{{instruction.text}}<button data-id="{{instruction.id}}" data-prev="{{instruction.text}}" data-type="instruction" onclick="editItem(event)">Edit</button><button data-type="instruction" data-id="{{instruction.id}}" onclick="deleteItem(event)">Delete</button></li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
  </div>
</main>
{% endblock content %}